/* Modal Animated V1.2 - Bootstrap 3.3.6 / 4.0.0 o superiore | Copyright VidalWeb.com */
(function(a){if("undefined"===typeof a.fn.modal)return window.console.error("Modal Animated richiede Bootstrap.js 3.3.6 o superiore !"),!1;var k=a.fn.modal,l=parseInt(k.Constructor.VERSION.replace(/[^0-9]/g,"")),x=k.Constructor.prototype.show,F=k.Constructor.prototype.hide,G=k.Constructor.prototype[400<=l?"_hideModal":"hideModal"],H=k.Constructor.prototype[400<=l?"_showBackdrop":"backdrop"],t=function(){var a,m=document.createElement("fakeelement"),g={animation:"animationend",OAnimation:"oAnimationEnd",
MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in g)if(void 0!==m.style[a])return g[a]}();a.fn.ModalAnimated=function(I){var m=a.extend({},{target:null,"body-add-class":"",animated:"true","animate-close":"true","animate-in":"zoomIn","animate-out":"zoomOut","animate-in-time":"0.35s","animate-in-delay":"0.01s","animate-out-time":"0.35s","animate-out-delay":"","animate-in-back":"fadeIn","animate-out-back":"","animate-back-time":"0.30s","animate-back-delay":"","md-backdrop":"true",
"md-dialogclass":null,"md-keyboard":"true","md-sheer":"false","md-draggable":"false","md-drag-containment":"false","md-minimize":"false","md-center":"true","md-center-absolute":"true","md-center-heightplus":null,"md-center-minheight":null,"md-center-maxheight":611,"fn-draggable":{},show:function(){},showfinish:function(){},hide:function(){},hidden:function(){},hiddenfinish:function(){}},I),g=document.body,q=400<=l?"_element":"$element",C=400<=l?"_config":"options",y=400<=l?"_showBackdrop":"backdrop",
u=function(c,b,d){b=b||"";d=d||"";d={"-webkit-animation-duration":b,"-webkit-animation-delay":d,"animation-duration":b,"animation-delay":d};a(c).css(d)},r=function(a){return"true"===a?!0:!1},J=function(){a(".modal").add(".modal .modal-dialog").each(function(){a(this).data("ui-draggable")&&a(this).draggable("destroy")})},D=function(c){c=a(c[q]);a(".modal-body",c).css("display","");a(".modal-dialog,.modal-content,.modal-body",c).add(c).css({left:"",top:"",right:"",bottom:"",width:"",height:"","margin-top":"",
"margin-left":"","max-height":""}).removeClass("moveslow");a(c).add(g).removeClass(["fade modal-center modal-sheer",a(c).data("body-addclass")].join(" "));a(c).removeClass(a(c).data("animationadd"));J()},v=function(c){var b=a(c[q]),d=b.data("md-dialogclass");D(c);a(".modal-dialog",b).removeClass(d);b.removeData();b.hide();if(400<=l)c[y](function(){a(g).removeClass("modal-open");c._resetAdjustments();c._resetScrollbar();b.trigger("hidden.bs.modal")});else c[y](function(){a(g).removeClass("modal-open");
c.resetAdjustments();c.resetScrollbar();b.trigger("hidden.bs.modal")})},w=function(c){var b=a(window).width(),d=a(window).height();a(c).css({top:d/2-c.prop("offsetHeight")/2,left:b/2-c.prop("offsetWidth")/2})},K=function(c){c=a(c[q]);var b=a(".modal-dialog",c);a(g).hasClass("modal-sheer")&&(a(c).show().css({width:b.prop("offsetWidth"),height:b.prop("offsetHeight")}),w(c))},z=function(c){var b=a(c[q]);if(a(b).is(":hidden"))return!1;a(b).show();var d=r(b.data("md-center-absolute")),e="true"===b.data("md-sheer")?
b:a(".modal-dialog",b);if(a(g).hasClass("modal-center")){var f=b.data("md-center-heightplus")||null,p=b.data("md-center-minheight")||null,n=b.data("md-center-maxheight")||611;n=a(window).height()<=n?1:20;p=0<p?p:n;f=f||0;a(g).add(".modal").css("padding-right","");!1===a(b).hasClass("in")&&a(b).show();var h=a(window).height()+f-p,m=a(".modal-header",b).prop("offsetHeight")||2,k=a(".modal-footer",b).prop("offsetHeight")||2;a(".modal-content",b).css({"max-height":function(){return h}});a(".modal-body",
b).css({"max-height":function(){return h-(m+k)}});d&&!0!==a(g).hasClass("modal-sheer")?w(e):a(".modal-dialog",b).css({"margin-top":function(){return-(a(b).prop("offsetHeight")/2)},"margin-left":function(){return-(a(b).prop("offsetWidth")/2)}});!1===a(b).hasClass("in")&&a(b).hide()}K(c)};a.extend(k.Constructor.prototype,{enforceFocus:function(a){return x.call(this,a)},show:function(c){var b=this,d=a(b[q]),e=a(".modal-dialog",d),f=d.data("body-addclass"),p=d.data("animated"),n=d.data("animate-in"),
h=d.data("animate-in-time"),k=d.data("animate-in-delay"),l=d.data("md-minimize"),E=d.data("md-center"),t=d.data("md-draggable"),L=d.data("md-drag-containment"),A=d.data("md-backdrop"),M=d.data("md-keyboard"),B=d.data("md-sheer"),v=d.data("md-dialogclass");e="true"===B?d:e;var w=d.data("fn-draggable");e.data("md-visual","show");m.show.call(d,e);if("undefined"===typeof p)return x.call(b,c);D(b);b[C].keyboard=r(M);b[C].backdrop=r(A)?!0:"static"===A?"static":r(A);b[y]();f&&a(g).addClass(f);a(".modal-dialog",
d).addClass(v);"true"===l?(a("button.minus,button.close",".modal-header",d).remove(),a("<button />",{type:"button","data-dismiss":"modal","aria-label":"Chiudi","class":"close",html:'<i class="fa fa-times"></i>'}).add(a("<button />",{type:"button","data-dismiss":"minus","aria-label":"Minimizzare","class":"minus",html:'<i class="fa"></i>'})).insertBefore(".modal-title",d)):a("button.minus",".modal-header",d).remove();d.on("click",'[data-dismiss="minus"]',function(c){c.stopImmediatePropagation();c.preventDefault();
a(".modal-body",d).stop(!0,!0).slideToggle({duration:300,progress:function(a,c,d){z(b)},complete:function(){z(b);a(this).is(":hidden")?a("[data-dismiss=minus]",".modal-header").addClass("plus"):a("[data-dismiss=minus]",".modal-header").removeClass("plus")}})});f=x.call(b,c);"true"===p&&n&&(u(e,h,k),b.animatedCss(n,c));if(r(E)||r(B))r(E)&&a(g).addClass("modal-center"),r(B)&&a(g).addClass("modal-sheer"),a(window).on("resize",function(){z(b)}).trigger("resize");"true"===t&&"function"===typeof a.ui.draggable&&
a(e).draggable(a.extend({handle:".modal-title",cursor:"move",containment:L,drag:function(b,c){a(c.draggable).remove()}},{},w));return f},hide:function(c){var b=a(this[q]),d=a(".modal-dialog",b),e=b.data("md-sheer");m.hide.call(b,"true"===e?b:d);return F.call(this,c)},_hideModal:function(a){this.occultMD(a)},hideModal:function(a){this.occultMD(a)},occultMD:function(c){var b=a(this[q]),d=a(".modal-dialog",b),e=b.data("animated"),f=b.data("animate-close"),p=b.data("animate-out"),g=b.data("animate-out-time"),
h=b.data("animate-out-delay");d="true"===b.data("md-sheer")?b:d;d.data("md-visual","hide");m.hidden.call(b,d);if("undefined"===typeof e)return G.call(this,c);"true"===e&&"true"===f&&p?(u(d,g,h),this.animatedCss(p,c)):v(this)},backdrop:function(a){this.__backdrop(a)},_showBackdrop:function(a){this.__backdrop(a)},__backdrop:function(c){H.call(this,c);var b=a(this[q]);c=a(".modal-backdrop");var d=b.data("animate-in-back"),e=b.data("animate-back-time"),f=b.data("animate-back-delay");b=b.data("animate-out-back");
c.length&&(u(c,e,f),(b||d)&&a(c).addClass("animated").removeClass(b).addClass(d))},durationAnimationCss:function(c){c=a.extend({animationEvent:"",element:""},c);var b=document.body||document.documentElement;b=b.style;var d="";""===b.WebkitAnimation&&(d="-webkit-");""===b.MozAnimation&&(d="-moz-");""===b.OAnimation&&(d="-o-");return window.getComputedStyle(c.element[0])[d+"animation-duration"].replace(/[^\.\d]/g,"")},animatedCss:function(c,b){var d=this,e=a(d[q]),f=a(".modal-dialog",e),g=e.data("md-sheer"),
n=["animated",c].join(" "),h="true"===g?e:f;f=a(".modal-backdrop");g=e.data("animate-in-back");var k=e.data("animate-out-back");"hide"===h.data("md-visual")&&(k||g)&&a(f).addClass("animated").addClass(k).removeClass(g);h.removeData("animationadd").removeClass(n+" zoomIn");h.data("animationadd",n);h.addClass(n);h.off(t);var l=function(b,d,c,e){a(b).addClass("moveslow").removeClass(n+" "+a(b).data("animationadd"));var f=a(b).data("md-visual");a(b).removeData("animationadd");u(b,null,null);"hide"===
f?(v(d),c.trigger(a.Event("hidden.animatedout.bs.modal",{relatedTarget:e})),m.hiddenfinish.call(c,h)):(c.trigger(a.Event("hidden.animatedin.bs.modal",{relatedTarget:e})),m.showfinish.call(c,h));a(b).off(t);window._complete_checktime=!0};window._complete_checktime=!1;h.one(t,function(){l(h,d,e,b)});f=d.durationAnimationCss({element:h});window.__timeCss=window.setTimeout(function(){d.durationAnimationCss({element:h});!0!==window._complete_checktime&&l(h,d,e,b);window.clearTimeout(window.__timeCss)},
100+1E3*f)}});return this.each(function(){var c=a(this),b=m.target||a(c).data("target"),d=b?b:c;b=a(d).hasClass("modal");if(!0!==b)if(window.console)console.error('Error: Per poter utilizzare il plugin hai bisogna della class: "modal" nel container !!!');else throw Error('Error: Per poter utilizzare il plugin hai bisogna della class: "modal" nel container !!!');d&&b&&(a(d).off("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"),a.map(m,function(b,f){!0!==/target/i.test(f)&&
a(d).data(f,a(c).attr("data-"+f)||b)}),a(d).modal({show:!0}))})}})(jQuery);