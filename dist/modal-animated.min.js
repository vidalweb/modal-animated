/* Modal Animated V1.2 - Bootstrap 3.3.6 / 4.0.0 o superiore | Copyright VidalWeb.com */
(function(a){if("undefined"===typeof a.fn.modal)return window.console.error("Modal Animated richiede Bootstrap.js 3.3.6 o superiore !"),!1;var g=a.fn.modal,m=parseInt(g.Constructor.VERSION.replace(/[^0-9]/g,"")),w=g.Constructor.prototype.show,E=g.Constructor.prototype.hide,F=g.Constructor.prototype[400<=m?"_hideModal":"hideModal"],G=g.Constructor.prototype[400<=m?"_showBackdrop":"backdrop"];a.fn.ModalAnimated=function(H){var k=document.body,p=400<=m?"_element":"$element",B=400<=m?"_config":"options",
x=400<=m?"_showBackdrop":"backdrop",r=function(c,b,d){b=b||"";d=d||"";d={"-webkit-animation-duration":b,"-webkit-animation-delay":d,"animation-duration":b,"animation-delay":d};a(c).css(d)},q=function(a){return"true"===a?!0:!1},I=function(){a(".modal").add(".modal .modal-dialog").each(function(){a(this).data("ui-draggable")&&a(this).draggable("destroy")})},C=function(c){c=a(c[p]);a(".modal-body",c).css("display","");a(".modal-dialog,.modal-content,.modal-body",c).add(c).css({left:"",top:"",right:"",
bottom:"",width:"",height:"","margin-top":"","margin-left":"","max-height":""}).removeClass("moveslow");a(c).add(k).removeClass(["fade modal-center modal-sheer",a(c).data("body-addclass")].join(" "));a(c).removeClass(a(c).data("animationadd"));I()},t=function(c){var b=a(c[p]),d=b.data("md-dialogclass");C(c);a(".modal-dialog",b).removeClass(d);b.removeData();b.hide();if(400<=m)c[x](function(){a(k).removeClass("modal-open");c._resetAdjustments();c._resetScrollbar();b.trigger("hidden.bs.modal")});else c[x](function(){a(k).removeClass("modal-open");
c.resetAdjustments();c.resetScrollbar();b.trigger("hidden.bs.modal")})},u=function(c){var b=a(window).width(),d=a(window).height();a(c).css({top:d/2-c.prop("offsetHeight")/2,left:b/2-c.prop("offsetWidth")/2})},J=function(c){c=a(c[p]);var b=a(".modal-dialog",c);a(k).hasClass("modal-sheer")&&(a(c).show().css({width:b.prop("offsetWidth"),height:b.prop("offsetHeight")}),u(c))},y=function(c){var b=a(c[p]);if(a(b).is(":hidden"))return!1;a(b).show();var d=q(b.data("md-center-absolute")),f="true"===b.data("md-sheer")?
b:a(".modal-dialog",b);if(a(k).hasClass("modal-center")){var e=b.data("md-center-heightplus")||null,h=b.data("md-center-minheight")||null,l=b.data("md-center-maxheight")||611;l=a(window).height()<=l?1:20;h=0<h?h:l;e=e||0;a(k).add(".modal").css("padding-right","");!1===a(b).hasClass("in")&&a(b).show();var v=a(window).height()+e-h,n=a(".modal-header",b).prop("offsetHeight")||2,g=a(".modal-footer",b).prop("offsetHeight")||2;a(".modal-content",b).css({"max-height":function(){return v}});a(".modal-body",
b).css({"max-height":function(){return v-(n+g)}});d&&!0!==a(k).hasClass("modal-sheer")?u(f):a(".modal-dialog",b).css({"margin-top":function(){return-(a(b).prop("offsetHeight")/2)},"margin-left":function(){return-(a(b).prop("offsetWidth")/2)}});!1===a(b).hasClass("in")&&a(b).hide()}J(c)};a.extend(g.Constructor.prototype,{enforceFocus:function(a){return w.call(this,a)},show:function(c){var b=this,d=a(b[p]),f=a(".modal-dialog",d),e=d.data("body-addclass"),h=d.data("animated"),l=d.data("animate-in"),
v=d.data("animate-in-time"),n=d.data("animate-in-delay"),g=d.data("md-minimize"),m=d.data("md-center"),K=d.data("md-draggable"),L=d.data("md-drag-containment"),z=d.data("md-backdrop"),M=d.data("md-keyboard"),A=d.data("md-sheer"),t=d.data("md-dialogclass");f="true"===A?d:f;var u=d.data("fn-draggable");if("undefined"===typeof h)return w.call(b,c);C(b);b[B].keyboard=q(M);b[B].backdrop=q(z)?!0:"static"===z?"static":q(z);b[x]();e&&a(k).addClass(e);a(".modal-dialog",d).addClass(t);"true"===g?(a("button.minus,button.close",
".modal-header",d).remove(),a("<button />",{type:"button","data-dismiss":"modal","aria-label":"Chiudi","class":"close",html:'<i class="fa fa-times"></i>'}).add(a("<button />",{type:"button","data-dismiss":"minus","aria-label":"Minimizzare","class":"minus",html:'<i class="fa"></i>'})).insertBefore(".modal-title",d)):a("button.minus",".modal-header",d).remove();d.on("click",'[data-dismiss="minus"]',function(c){c.stopImmediatePropagation();c.preventDefault();a(".modal-body",d).stop(!0,!0).slideToggle({duration:300,
progress:function(a,c,d){y(b)},complete:function(){y(b);a(this).is(":hidden")?a("[data-dismiss=minus]",".modal-header").addClass("plus"):a("[data-dismiss=minus]",".modal-header").removeClass("plus")}})});e=w.call(b,c);"true"===h&&l&&(r(f,v,n),b.animatedCss(l,!1,c));if(q(m)||q(A))q(m)&&a(k).addClass("modal-center"),q(A)&&a(k).addClass("modal-sheer"),a(window).on("resize",function(){y(b)}).trigger("resize");"true"===K&&"function"===typeof a.ui.draggable&&a(f).draggable(a.extend({handle:".modal-title",
cursor:"move",containment:L,drag:function(b,c){a(c.draggable).remove()}},{},u));return e},hide:function(a){return E.call(this,a)},_hideModal:function(a){this.occultMD(a)},hideModal:function(a){this.occultMD(a)},occultMD:function(c){var b=a(this[p]),d=a(".modal-dialog",b),f=b.data("animated"),e=b.data("animate-close"),h=b.data("animate-out"),l=b.data("animate-out-time"),g=b.data("animate-out-delay");b="true"===b.data("md-sheer")?b:d;if("undefined"===typeof f)return F.call(this,c);"true"===f&&"true"===
e&&h?(r(b,l,g),this.animatedCss(h,!0,c)):t(this);window.ladro_time&&window.clearTimeout(window.ladro_time)},backdrop:function(a){this.__backdrop(a)},_showBackdrop:function(a){this.__backdrop(a)},__backdrop:function(c){G.call(this,c);var b=a(this[p]);c=a(".modal-backdrop");var d=b.data("animate-in-back"),f=b.data("animate-back-time"),e=b.data("animate-back-delay");b=b.data("animate-out-back");c.length&&(r(c,f,e),(b||d)&&a(c).addClass("animated").removeClass(b).addClass(d))},durationAnimationCss:function(c){c=
a.extend({animationEvent:"",element:""},c);var b=document.body||document.documentElement;b=b.style;var d="";""===b.WebkitAnimation&&(d="-webkit-");""===b.MozAnimation&&(d="-moz-");""===b.OAnimation&&(d="-o-");return window.getComputedStyle(c.element[0])[d+"animation-duration"].replace(/[^\.\d]/g,"")},animatedCss:function(c,b,d){var f=this,e=a(f[p]),h=a(".modal-dialog",e),l=e.data("md-sheer"),g=["animated",c].join(" "),n="true"===l?e:h;c=a(".modal-backdrop");h=e.data("animate-in-back");l=e.data("animate-out-back");
!0===b&&(l||h)&&a(c).addClass("animated").addClass(l).removeClass(h);var k=function(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}();n.data("animationadd",g);n.addClass(g);var m=function(b,c,d,e,f){a(b).addClass("moveslow").removeClass(g);r(b,null,null);!0===e?(t(c),d.trigger(a.Event("hidden.animatedout.bs.modal",{relatedTarget:f}))):
d.trigger(a.Event("hidden.animatedin.bs.modal",{relatedTarget:f}));a(b).off(k)};n.one(k,function(){m(n,f,e,b,d)});window.__timeCss=window.setTimeout(function(){0!==f.durationAnimationCss({element:n})&&m(n,f,e,b,d);clearTimeout(window.__timeCss)},100+1E3*f.durationAnimationCss({element:n}))}});var D=a.extend({},{target:null,"body-add-class":"",animated:"true","animate-close":"true","animate-in":"zoomIn","animate-out":"zoomOut","animate-in-time":"0.35s","animate-in-delay":"0.01s","animate-out-time":"0.40s",
"animate-out-delay":"","animate-in-back":"fadeIn","animate-out-back":"","animate-back-time":"0.30s","animate-back-delay":"","md-backdrop":"true","md-dialogclass":null,"md-keyboard":"true","md-sheer":"false","md-draggable":"false","md-drag-containment":"false","md-minimize":"false","md-center":"true","md-center-absolute":"true","md-center-heightplus":null,"md-center-minheight":null,"md-center-maxheight":611,"fn-draggable":{}},H);return this.each(function(){var c=a(this),b=D.target||a(c).data("target"),
d=b?b:c;b=a(d).hasClass("modal");if(!0!==b)if(window.console)console.error('Error: Per poter utilizzare il plugin hai bisogna della class: "modal" nel container !!!');else throw Error('Error: Per poter utilizzare il plugin hai bisogna della class: "modal" nel container !!!');d&&b&&(a(d).off("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"),a.map(D,function(b,e){!0!==/target/i.test(e)&&a(d).data(e,a(c).attr("data-"+e)||b)}),a(d).modal({show:!0}))})}})(jQuery);